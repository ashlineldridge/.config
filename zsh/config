# DOT_START

# Enable extended globbing
setopt extended_glob

# Load the zsh configuration files. The 'secret' file provides a mechanism
# for configuration that doesn't get published to GitHub.
for f in "${XDG_CONFIG_HOME}"/zsh/{exports,aliases,functions,colors,secret}; do
  if [[ -f "${f}" ]]; then
    source "${f}"
  fi
done

# Initialize prompt
fpath+="${XDG_CONFIG_HOME}/pure"
autoload -U promptinit; promptinit
prompt pure

# Shortcuts
bindkey '^R' history-incremental-search-backward
bindkey "^[^[[D" backward-word
bindkey "^[^[[C" forward-word
bindkey \^U backward-kill-line
bindkey '\e_' insert-last-word

# Enable completion for various commands
autoload -U +X compinit && compinit
autoload -U +X bashcompinit && bashcompinit

# Prevent kubectl trying to complete file arguments
source <(kubectl completion zsh | sed '/"-f"/d')

# History settings
unsetopt inc_append_history
unsetopt share_history
