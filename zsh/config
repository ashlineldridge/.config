# ZSH configuration

# Shell options
setopt extended_glob
setopt hist_find_no_dups
setopt inc_append_history
setopt share_history

# We source zshenv here even though it will have already been sourced during
# zsh's init routine due to https://www.zsh.org/mla/users/2003/msg00600.html.
source "${XDG_CONFIG_HOME}"/zsh/zshenv

# Load zsh configuration files
for f in "${XDG_CONFIG_HOME}"/zsh/modules/*.zsh; do
  if [[ -f "${f}" ]]; then
    source "${f}"
  fi
done

# Initialize prompt
fpath+="${XDG_CONFIG_HOME}/pure"
autoload -U promptinit; promptinit
prompt pure

# Shortcuts
bindkey "<ESC>b" backward-word
bindkey "<ESC>f" forward-word

# Enables completion system for sourced scripts below
autoload -U +X compinit; compinit

# Workaround for https://github.com/kubernetes/kubectl/issues/125
source <(kubectl completion zsh | sed '/_bash_comp/ s/^#*/#/') || true
